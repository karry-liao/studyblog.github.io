# 支付功能

## 一、支付可能需要的东西

- 支付方式[微信] [支付宝]
- 支付的金额
- 订单的标题
- 订单号
- 订单的有效期
- 支付完成跳转的连接

## 二、支付的完成流程

1. 立即购买

```js
ajax({
    url:'xxxx',
    data:{    =====>前端给后端传递的数据
        用户
        订单金额
        商品信息
    }
    success：function(data){  =====》后端给前端返回的数据
       if(data.xxxx){
        //data是一个对象，订单号
       // 跳转到确认订单页面
       }
	}
})
```

2.确认订单===》点击提交订单=====》选择支付方式 （支付之前）

```js
ajax({
    data:{
        订单号
        APPID：‘之前准备好的’
    	选择了那种支付方式
    }，
    success:function(data){
    	
    1.后端返回一个true，代表可以支付了
    2.还会返回一个标识，（那种支付方式）
        if(后端给前端穿的那种方式===前端选择的支付方式){
            请求支付操作（发起支付）
            //对接官方支付
            把得到的数据传给支付宝|微信官方
        }
    }
})
```

```js

```

