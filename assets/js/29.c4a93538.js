(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{646:function(s,i,t){},772:function(s,i,t){"use strict";t(646)},815:function(s,i,t){"use strict";t.r(i);var e={data:()=>({showError:!1,showSuccess:!1,checking:!1,sliding:!1,slidMove:0}),computed:{angle(){var s,i;let t=null!==(s=this.sliderConWidth)&&void 0!==s?s:0,e=null!==(i=this.sliderWidth)&&void 0!==i?i:0;return 360*(this.slidMove/(t-e))},imgAngle(){return`rotate(${this.angle}deg)`}},methods:{onMouseDown(s){"slider"===s.target.id&&(this.checking||(this.sliding=!0,this.sliderLeft=s.clientX,this.sliderConWidth=this.$refs.sliderCon.clientWidth,this.sliderWidth=this.$refs.slider.clientWidth))},onMouseUp(s){this.sliding&&!1===this.checking&&(this.checking=!0,this.validApi(this.angle).then(s=>(s?this.showSuccess=!0:this.showError=!0,new Promise((i,t)=>{setTimeout(()=>{s?i(Math.round(this.angle)):t(),this.resetSlider()},1e3)}))).then(s=>{alert("旋转正确: "+s+"度")}).catch(s=>{}))},resetSlider(){this.sliding=!1,this.slidMove=0,this.checking=!1,this.showSuccess=!1,this.showError=!1},onMouseMove(s){if(this.sliding&&!1===this.checking){let i=s.clientX-this.sliderLeft;i<0?i=0:i>this.sliderConWidth-this.sliderWidth&&(i=this.sliderConWidth-this.sliderWidth),this.$refs.spanx.style.opacity=5/i,this.slidMove=i}},validApi:s=>new Promise((i,t)=>{setTimeout(()=>{let t=90+s;let e=Math.abs(360-t)<=10;i(e)},1e3)})}},n=(t(772),t(16)),h=Object(n.a)(e,(function(){var s=this,i=s._self._c;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"check",on:{mousedown:s.onMouseDown,mousemove:s.onMouseMove,mouseup:s.onMouseUp}},[i("p",[s._v("拖动滑块使图片角度为正")]),s._v(" "),i("div",{staticClass:"img-con"},[i("img",{style:{transform:s.imgAngle},attrs:{src:"https://z3.ax1x.com/2021/08/06/fn7X4S.png"}}),s._v(" "),s.showError?i("div",{staticClass:"check-state"},[s._v("\n        错误\n    ")]):s.showSuccess?i("div",{staticClass:"check-state"},[s._v("\n        正确\n    ")]):s.checking?i("div",{staticClass:"check-state"},[s._v("\n        验证中\n    ")]):s._e()]),s._v(" "),i("div",{ref:"sliderCon",staticClass:"slider-con",class:{"err-anim":s.showError}},[i("span",{ref:"spanx",staticClass:"slide-tip",staticStyle:{opacity:"1"}},[s._v("拖动滑块验证")]),s._v(" "),i("div",{ref:"slider",staticClass:"slider",class:s.sliding,style:{"--move":s.slidMove+"px"},attrs:{id:"slider"}})])])])}),[],!1,null,"56f510fa",null);i.default=h.exports}}]);